var itemLink=document.querySelector(".buy"),itemPopup=document.querySelector(".modal-item"),itemClose=itemPopup.querySelector(".modal-close");itemLink.addEventListener("click",function(e){e.preventDefault(),itemPopup.classList.add("modal-show-item")}),itemClose.addEventListener("click",function(e){e.preventDefault(),itemPopup.classList.remove("modal-show-item")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),itemPopup.classList.contains("modal-show-item")&&itemPopup.classList.remove("modal-show-item"))});var link=document.querySelector(".open-modal-contacts"),popup=document.querySelector(".modal-letter"),close=popup.querySelector(".modal-close"),form=popup.querySelector(".form-flex-modal"),firstname=popup.querySelector("[name=name-letter]"),mail=popup.querySelector("[name=mail-letter]"),message=popup.querySelector("[name=text-letter]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name-letter")}catch(e){isStorageSupport=!1}link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show-letter"),storage?(firstname.value=storage,mail.focus()):firstname.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show-letter"),popup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){firstname.value&&mail.value&&message.value?isStorageSupport&&localStorage.setItem("name-letter",firstname.value):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"),console.log("Нужно ввести логин и пароль"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("modal-show-letter")&&(popup.classList.remove("modal-show-letter"),popup.classList.remove("modal-error")))});var mapLink=document.querySelector(".open-modal-map"),mapPopup=document.querySelector(".modal-map"),mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show-map")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-show-map")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapPopup.classList.contains("modal-show-map")&&mapPopup.classList.remove("modal-show-map"))});